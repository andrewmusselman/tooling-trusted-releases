{% macro render_field(field, label=False, class_='form-control') %}
  {% if label and field.label %}{{ field.label(class="form-label") }}{% endif %}
  {% set field_class = class_ + (' is-invalid' if field.errors else '') %}
  {{ field(class_=field_class) }}
  {% if field.errors %}
    <div class="invalid-feedback">
      {% for error in field.errors %}
        {{ error }}
        {% if not loop.last %}<br />{% endif %}
      {% endfor %}
    </div>
  {% endif %}
  {% if field.description %}<div class="form-text text-muted">{{ field.description }}</div>{% endif %}
{% endmacro %}

{% macro render_checkbox(field, label=False, class_='form-check-input') %}
  {% set field_class = class_ + (' is-invalid' if field.errors else '') %}
  {{ field(class_=field_class) }}
  {% if label and field.label %}{{ field.label(class="form-check-label") }}{% endif %}
  {% if field.errors %}
    <div class="invalid-feedback d-block">
      {% for error in field.errors %}
        {{ error }}
        {% if not loop.last %}<br />{% endif %}
      {% endfor %}
    </div>
  {% endif %}
  {% if field.description %}<div class="form-text text-muted">{{ field.description }}</div>{% endif %}
{% endmacro %}
