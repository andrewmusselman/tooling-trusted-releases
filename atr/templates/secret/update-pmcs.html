{% extends "layouts/base.html" %}

{% block title %}
  Update PMCs ~ ATR
{% endblock title %}

{% block description %}
  Update PMCs from remote, authoritative committee-info.json.
{% endblock description %}

{% block stylesheets %}
  {{ super() }}
  <style>
      .form-group {
          margin-bottom: 1rem;
      }

      button {
          margin-top: 1rem;
          padding: 0.5rem 1rem;
          background: #036;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-weight: 500;
      }

      button:hover {
          background: #047;
      }

      div.warning {
          margin: 1.5rem 0;
          padding: 1rem;
          background: #fff3cd;
          border: 1px solid #ffeeba;
          border-radius: 4px;
          color: #856404;
      }

      div.warning p:last-child {
          margin-bottom: 0;
      }

      div.warning strong {
          color: #533f03;
      }

      .status-message {
          margin: 1.5rem 0;
          padding: 1rem;
          border-radius: 4px;
      }

      .status-message.success {
          background: #d4edda;
          border: 1px solid #c3e6cb;
          color: #155724;
      }

      .status-message.error {
          background: #f8d7da;
          border: 1px solid #f5c6cb;
          color: #721c24;
      }
  </style>
{% endblock stylesheets %}

{% block content %}
  <h1>Update PMCs</h1>
  <p class="intro">This page allows you to update the PMC information in the database from committee-info.json.</p>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}<div class="status-message {{ category }}">{{ message }}</div>{% endfor %}
    {% endif %}
  {% endwith %}

  <div class="warning">
    <p>
      <strong>Note:</strong> This operation will update all PMC information, including member lists and release manager assignments.
    </p>
  </div>

  <form method="post">
    <button type="submit">Update PMCs</button>
  </form>
{% endblock content %}
